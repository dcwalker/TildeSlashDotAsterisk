---
name: commit
description: Create a commit following project standards. Reviews changes, extracts issue ID from branch name, optionally fetches Jira details, and creates properly formatted commit messages. Use when committing changes or when the user asks to commit.
---

# Commit

Create a commit following project standards, ensuring all changes are intentional, complete, and properly documented.

## When to Use

Use this skill when:
- The user asks to commit changes
- You need to commit code changes following project conventions
- You need to create a properly formatted commit message

## Instructions

Please start by reviewing the AGENTS.md then the "Commit Messages" section of the CONTRIBUTING.md document before proceeding.

Before committing, follow this workflow:

1. Run `git status` and `git diff` to review all uncommitted changes.

2. Verify that the changes are intentional and complete:
   - Ensure no debug code or temporary changes are included.
   - Confirm that documentation in the README and elsewhere has been updated if the changes impact it.
   - Confirm that API spec files (openapi.yaml or openapi.json) have been updated if the changes impact them.
   - Confirm all changes are related and should be in a single commit.
   - If unrelated changes exist, ask whether to commit them separately or together.

3. Extract the issue ID from the current branch name (e.g., PROJECT-123 from branch `PROJECT-123-feature-description`). If no issue ID is found, propose adding NO-JIRA at the end of the commit message and wait for confirmation before proceeding.

4. If needed, use the `acli` command line tool to fetch Jira ticket details:
   - Run `acli jira workitem --help` for usage information.
   - Use ticket details to write a more descriptive commit message.

5. Create the commit message following the format:
   - Prefix: Issue ID from the branch name (e.g., `[PROJECT-123]`) if applicable.
   - Description: Clear, professional description of what changed and why.

6. Commit the changes.

7. If the commit fails (pre-commit hooks, validation errors, etc.):
   - Review the error message.
   - Fix any issues raised by hooks or validation.
   - Retry the commit.

If there are no uncommitted changes, report that to the user.
